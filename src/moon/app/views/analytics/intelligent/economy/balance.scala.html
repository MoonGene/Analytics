@(selectedAppId: String, selectedApp: MobileApp, mobileApps: List[MobileApp], subPage: String, acc: Account, sessionData: SessionData, location: Option[String])

@common.analytics.frame(title = "Economy Balance - MoonGene - Realtime Mobile Analytics for Games and Apps!", selectedAppId = selectedAppId) {
    @analytics.body(selectedAppId = selectedAppId, allApps = mobileApps, activeTab = "intelligent", acc = acc, sessionData = sessionData, location = location) {

        @common.analytics.currentpath(selectedApp.name, Array("Intelligent", "Economy", subPage))

        <h1>Economy Balance</h1>

        <div class="innerLR">
            <div class="row-fluid">
                <div id="widget-query-filter" class="widget row-fluid widget-heading-simple widget-body-gray">
                    @common.dataunavailable()
                </div>
            </div>
            <div class="row-fluid">
                <div class="span9 dash">
                    <div class="widget widget-heading-simple widget-body-simple" >
                        <div class="widget-body">
                            <div><h4 class="heading" title="Items Balance Per User">Items Balance</h4></div>
                            <div class="graph chart-white" id="ecoitemsbalancechart"></div>
                        </div>
                    </div>
                </div>
                <div class="span3 dash">
                    <div class="widget row widget-body-white">
                        <div class="widget-body">
                            <h4 class="heading">Items:</h4>
                            <select multiple="multiple" style="width: 100%;" id="trackedItems">
                                <optgroup label="Tracked items" id="trackedItemsGroup">
                                </optgroup>
                            </select>
                            <div class="separator bottom"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span9 dash">
                    <div><h4 class="heading">Balance progression</h4></div>
                    <div class="graph chart-white" id="ecobalanceprogressionchart"></div>
                </div>
                <div class="span3 dash">
                </div>
            </div>
            <p class="separator text-center"><i class="icon-ellipsis-horizontal icon-3x"></i></p>
        </div>

        <style>
            .va-path {
            	stroke-width: 2.5px;			/* the line width for paths is 2 pixels */
            	fill: none;					/* don't fill the area bounded by any path elements */

            }

            .v-path {
            	stroke-width: 1.5px;			/* the line width for paths is 2 pixels */
            	fill: none;					/* don't fill the area bounded by any path elements */
            }

            .va-area {
                fill: lightsteelblue;
                fill-opacity: 0.25;
                stroke-width: 0;
            }

            .axis path,
            .axis line {
            	fill: none;					/* don't fill areas bounded by the axis line */
            	stroke: grey;				/* make the axis line grey */
            	stroke-width: 2;			/* make the width of the axis lines 1 pixel */
                shape-rendering: crispEdges;/* make the edges sharp */
            }

            .legend {
                padding: 5px;
            	font: 10px sans-serif;
            	background: yellow;
            	box-shadow: 2px 2px 1px #888;
            }

            .dark-grid .tick {
                stroke: darkgrey;
                opacity: 0.1;
            }

            .grid .tick {
                stroke: lightgrey;
                opacity: 0.1;
            }
            .grid path {
                  stroke-width: 0;
            }

            div.graph-tooltip {
              position: absolute;
              text-align: center;
              width: 120px;
              height: 28px;
              padding: 8px;
              font: 12px sans-serif;
              background: #fff;
              border: solid 1px #aaa;
              border-radius: 8px;
              pointer-events: none;
            }

            div.graph-tooltipwide {
                position: absolute;
                text-align: center;
                width: 240px;
                padding: 8px;
                font: 12px sans-serif;
                background: #fff;
                border: solid 1px #aaa;
                border-radius: 8px;
                pointer-events: none;
            }

        </style>

        <script src="@routes.Assets.at("scripts/moongene/economy_balance.js?123123")"></script>

    }
}